# DeviantPlayer

Основные возможности плеера - одновременное проигрывание нескольких плелистов, возможность проигрывание отдельных звуков.

## Интерфейс 

![Основной интерфейс](/img/screenshots/main_view.jpg)

1. Несколько плейлистов, у каждого свой список воспроизведения. 
1. Кнопки звуков, при нажатии на любую воспроизводится звук из заданного набора.
1. Настройки:
    * Настройка плейлистов. Выбор плейлистов, которые будут отображаться на основном экране. [1]
    * Настройка звуков. Выбор и настройка нужных набров звуков. [2]
    * Настройка локальной базы музыки.
    * Увеличить элементы интерфейса плейлистов.
    * Уменьшить элементы интерфейса плейлистов.
    * Скрыть списки воспроизведения во всех плейлистах.
    * Перемешать музыку в каждом плейлисте.
    * Включить/отключить плавный переход от паузы к проигрыванию (экспериментальная функция, иногда работает).
    
## Как пользоваться

### Организация файлов

Для начала нужно собрать музыку, которая вам нравится и рассортировать ее по папкам. Каждая папка - отдельный плейлист.

![Структура папок с музыкой](/img/screenshots/music_folder.JPG)

Звуки собираются аналогичным образом. Например есть три звука взрыва фаербола, их нужно поместить в папку и назвать, например, "фаербол". Таки папки с наборами звуков должны лежать в общей папке "!звуки".

![Структура папок со звуками](/img/screenshots/sounds_folder.JPG)

### Создание базы музыки

Так как из браузера невозможно получить полноценный доступ к файловой системе локального компьютера, то придется создать файл с базой музыки. Для этого есть два варианта - с помощью скрипта NODE.js, либо с помощью стандартных средств Windows.

#### При помощи NODE.js

  - Запустить консоль в папке со скриптом ([папка с плеером]/node/), где лежать два файла index.js и package.json
  - Установить требуемые модули - команда в консоли `npm install`  
  - Пока устанавливаются модули, настроить скрипт создания базы
    - Открыть в текстовом редакторе файл "index.js"
    - Отредактировать три строки в начале файла
      - `const sMusicPath = "D:/Cloud/DnD/Музыка"` - путь до папки, где содержатся папки с музыкой и звуками
      - `const sSoundsFolder = "!звуки"` - название папки, в которой лежат папки со звуками (папка должна лежать по адресу выше, например "D:/Cloud/DnD/Музыка/!звуки")
      - `const sDBpath = "../js/db.js"`- файл, куда будет сохранена база музыки. Он должен называться "db.js" и он должен находиться в папке с основными файлами плеера ([папка с плеером]/js/db.js)
  - После завершения установки запустить скрипт создания базы - `node index.js`
  
  При добавлении/удалении музыки из папок, нужно будет запускать этот скрипт (поседний шаг) снова, чтобы обновить базу.
  
#### При помощи cmd

  - Переместить файл "_create music DB.bat" в корень папки с музыкой, например, "D:/Cloud/DnD/Музыка/_create_music_DB.bat". 
  - Запустить этот файл двойным кликом.
  - Убедиться, что в папке есть (появился) файл "DB.txt"

